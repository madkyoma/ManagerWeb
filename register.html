<!DOCTYPE html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6 ielt8"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7 ielt8"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> 
<html lang="en"> 
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>志愿者端-注册</title>
<link type="text/css" href="assets/css/login-style.css" rel="stylesheet" />
</head>
<body>
<div class="container">
	<section id="content">
		<form method="POST" action="http://114.115.142.42/Operation/ManagerRegister">
			<h1>×¢²á</h1>
			<div>
				<input type="email" placeholder="电子邮箱" required id="email" name="mailAddress" />
			</div>
			<div>
				<input type="tel" placeholder="手机号" required id="phone" name="pnoneNumber" />
			</div>
            <div>
				<input type="text" placeholder="用户名" required id="name" name="name" />
			</div>
            <div>
				<input type="password" placeholder="密码" required id="password" name="password" />
			</div>
			<div>
				<input type="button" value="注册" />
			</div>
		</form><!-- form -->
	</section><!-- content -->
</div><!-- container -->
<script>
  $(document).ready(function() {
	  $("input[type=button]").click(function() {
      register();
    })
  });
	function register(){
		var username=document.getElementById("email").value;  
  		var password=document.getElementById("password").value; 
  		var name=document.getElementById("name").value;
  		var phone=document.getElementById("phone").value;
   
    	var params = "mailAddress="+username+"&password="+password+"&phone="+phone+"&name="+name;  
        var url = "http://114.115.142.42/Operation/ManagerRegister";  
                $.ajax({  
                  type: 'POST',  
                  url: url,  
                  dataType: 'text',  
                  data: params,  
                  beforeSend: function() {  
                    //document.getElementById("demo").innerHTML= 'checking...'  ;  
                  },  
                  complete: function(XMLHttpRequest, textStatus) { 
                  },  
                  success: function(data) {  
                    if(data=="success"){  
                      window.location.href="index.html";
                    }else{
                      document.getElementById("demo").innerHTML= data;
                    }
                  },
                  //error:function(XMLHttpRequest, textStatus, errorThrown){
                  //通常情况下textStatus和errorThrown只有其中一个包含信息
                  error: function(XMLHttpRequest, textStatus, errorThrown) {
                    window.alert(textStatus);
                  }
                });  
  }

</body>
</html>
